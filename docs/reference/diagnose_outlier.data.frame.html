<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Diagnose outlier of numerical variables — diagnose_outlier • dlookr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Diagnose outlier of numerical variables — diagnose_outlier" />
<meta property="og:description" content="The diagnose_outlier() produces outlier information
for diagnosing the quality of the numerical data." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dlookr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.15</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/introduce.html">Introduce dlookr</a>
</li>
<li>
  <a href="../articles/diagonosis.html">Data Diagnosis</a>
</li>
<li>
  <a href="../articles/EDA.html">EDA</a>
</li>
<li>
  <a href="../articles/transformation.html">Data Transformation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Function reference</a>
</li>
<li>
  <a href="https://github.com/choonghyunryu/dlookr/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Diagnose outlier of numerical variables</h1>
    <small class="dont-index">Source: <a href='https://github.com/choonghyunryu/dlookr/blob/master/R/diagnose.R'><code>R/diagnose.R</code></a></small>
    <div class="hidden name"><code>diagnose_outlier.data.frame.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The diagnose_outlier() produces outlier information
for diagnosing the quality of the numerical data.</p>
    </div>

    <pre class="usage"><span class='fu'>diagnose_outlier</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>.data</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>a data.frame or a <code>tbl_df</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>one or more unquoted expressions separated by commas.
You can treat variable names like they are positions.
Positive values select variables; negative values to drop variables.
If the first expression is negative, diagnose_outlier() will automatically
start with all variables.
These arguments are automatically quoted and evaluated in a context
where column names represent column positions.
They support unquoting and splicing.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of tbl_df.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The scope of the diagnosis is the provide a outlier information.
If the number of outliers is small and the difference between the averages
including outliers and the averages not including them is large,
it is necessary to eliminate or replace the outliers.</p>
    <h2 class="hasAnchor" id="outlier-diagnostic-information"><a class="anchor" href="#outlier-diagnostic-information"></a>Outlier Diagnostic information</h2>

    

<p>The information derived from the numerical data diagnosis is as follows.</p>
<ul>
<li><p>variables : variable names</p></li>
<li><p>outliers_cnt : number of outliers</p></li>
<li><p>outliers_ratio : percent of outliers</p></li>
<li><p>outliers_mean : arithmetic average of outliers</p></li>
<li><p>with_mean : arithmetic average of with outliers</p></li>
<li><p>without_mean : arithmetic average of without outliers</p></li>
</ul>

<p>See vignette("diagonosis") for an introduction to these concepts.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='diagnose_outlier.tbl_dbi.html'>diagnose_outlier.tbl_dbi</a></code>, <code><a href='diagnose.data.frame.html'>diagnose.data.frame</a></code>, <code><a href='diagnose_category.data.frame.html'>diagnose_category.data.frame</a></code>, <code><a href='diagnose_numeric.data.frame.html'>diagnose_numeric.data.frame</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Generate data for the example</span>
<span class='no'>carseats</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>ISLR</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/pkg/ISLR/man/Carseats.html'>Carseats</a></span>
<span class='no'>carseats</span>[<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span>(<span class='no'>carseats</span>)), <span class='fl'>20</span>), <span class='st'>"Income"</span>] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>
<span class='no'>carseats</span>[<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>NROW</a></span>(<span class='no'>carseats</span>)), <span class='fl'>5</span>), <span class='st'>"Urban"</span>] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>

<span class='co'># Diagnosis of numerical variables</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>carseats</span>)</div><div class='output co'>#&gt;     variables outliers_cnt outliers_ratio outliers_mean  with_mean without_mean
#&gt; 1       Sales            2           0.50         15.95   7.496325     7.453844
#&gt; 2   CompPrice            2           0.50        126.00 124.975000   124.969849
#&gt; 3      Income            0           0.00           NaN  68.507895    68.507895
#&gt; 4 Advertising            0           0.00           NaN   6.635000     6.635000
#&gt; 5  Population            0           0.00           NaN 264.840000   264.840000
#&gt; 6       Price            5           1.25        100.40 115.795000   115.989873
#&gt; 7         Age            0           0.00           NaN  53.322500    53.322500
#&gt; 8   Education            0           0.00           NaN  13.900000    13.900000</div><div class='input'>
<span class='co'># Select the variable to diagnose</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>carseats</span>, <span class='no'>Sales</span>, <span class='no'>Income</span>)</div><div class='output co'>#&gt;        variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; Sales      Sales            2            0.5         15.95  7.496325
#&gt; Income    Income            0            0.0           NaN 68.507895
#&gt;        without_mean
#&gt; Sales      7.453844
#&gt; Income    68.507895</div><div class='input'><span class='fu'>diagnose_outlier</span>(<span class='no'>carseats</span>, -<span class='no'>Sales</span>, -<span class='no'>Income</span>)</div><div class='output co'>#&gt;               variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; CompPrice     CompPrice            2           0.50         126.0  124.9750
#&gt; Advertising Advertising            0           0.00           NaN    6.6350
#&gt; Population   Population            0           0.00           NaN  264.8400
#&gt; Price             Price            5           1.25         100.4  115.7950
#&gt; Age                 Age            0           0.00           NaN   53.3225
#&gt; Education     Education            0           0.00           NaN   13.9000
#&gt;             without_mean
#&gt; CompPrice       124.9698
#&gt; Advertising       6.6350
#&gt; Population      264.8400
#&gt; Price           115.9899
#&gt; Age              53.3225
#&gt; Education        13.9000</div><div class='input'><span class='fu'>diagnose_outlier</span>(<span class='no'>carseats</span>, <span class='st'>"Sales"</span>, <span class='st'>"Income"</span>)</div><div class='output co'>#&gt;        variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; Sales      Sales            2            0.5         15.95  7.496325
#&gt; Income    Income            0            0.0           NaN 68.507895
#&gt;        without_mean
#&gt; Sales      7.453844
#&gt; Income    68.507895</div><div class='input'><span class='fu'>diagnose_outlier</span>(<span class='no'>carseats</span>, <span class='fl'>5</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 1 x 6</span><span>
#&gt;   variables  outliers_cnt outliers_ratio outliers_mean with_mean without_mean
#&gt; </span><span style='color: #555555;'>*</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> Population            0              0           </span><span style='color: #BB0000;'>NaN</span><span>      265.         265.</div><div class='input'>
<span class='co'># Using pipes ---------------------------------</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)

<span class='co'># Diagnosis of all numerical variables</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>()</div><div class='output co'>#&gt;     variables outliers_cnt outliers_ratio outliers_mean  with_mean without_mean
#&gt; 1       Sales            2           0.50         15.95   7.496325     7.453844
#&gt; 2   CompPrice            2           0.50        126.00 124.975000   124.969849
#&gt; 3      Income            0           0.00           NaN  68.507895    68.507895
#&gt; 4 Advertising            0           0.00           NaN   6.635000     6.635000
#&gt; 5  Population            0           0.00           NaN 264.840000   264.840000
#&gt; 6       Price            5           1.25        100.40 115.795000   115.989873
#&gt; 7         Age            0           0.00           NaN  53.322500    53.322500
#&gt; 8   Education            0           0.00           NaN  13.900000    13.900000</div><div class='input'><span class='co'># Positive values select variables</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>(<span class='no'>Sales</span>, <span class='no'>Income</span>)</div><div class='output co'>#&gt;        variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; Sales      Sales            2            0.5         15.95  7.496325
#&gt; Income    Income            0            0.0           NaN 68.507895
#&gt;        without_mean
#&gt; Sales      7.453844
#&gt; Income    68.507895</div><div class='input'><span class='co'># Negative values to drop variables</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>(-<span class='no'>Sales</span>, -<span class='no'>Income</span>)</div><div class='output co'>#&gt;               variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; CompPrice     CompPrice            2           0.50         126.0  124.9750
#&gt; Advertising Advertising            0           0.00           NaN    6.6350
#&gt; Population   Population            0           0.00           NaN  264.8400
#&gt; Price             Price            5           1.25         100.4  115.7950
#&gt; Age                 Age            0           0.00           NaN   53.3225
#&gt; Education     Education            0           0.00           NaN   13.9000
#&gt;             without_mean
#&gt; CompPrice       124.9698
#&gt; Advertising       6.6350
#&gt; Population      264.8400
#&gt; Price           115.9899
#&gt; Age              53.3225
#&gt; Education        13.9000</div><div class='input'><span class='co'># Positions values select variables</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>(<span class='fl'>5</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 1 x 6</span><span>
#&gt;   variables  outliers_cnt outliers_ratio outliers_mean with_mean without_mean
#&gt; </span><span style='color: #555555;'>*</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>        </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> Population            0              0           </span><span style='color: #BB0000;'>NaN</span><span>      265.         265.</div><div class='input'><span class='co'># Positions values select variables</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>(-<span class='fl'>1</span>, -<span class='fl'>5</span>)</div><div class='output co'>#&gt;               variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; CompPrice     CompPrice            2           0.50         126.0 124.97500
#&gt; Income           Income            0           0.00           NaN  68.50789
#&gt; Advertising Advertising            0           0.00           NaN   6.63500
#&gt; Price             Price            5           1.25         100.4 115.79500
#&gt; Age                 Age            0           0.00           NaN  53.32250
#&gt; Education     Education            0           0.00           NaN  13.90000
#&gt;             without_mean
#&gt; CompPrice      124.96985
#&gt; Income          68.50789
#&gt; Advertising      6.63500
#&gt; Price          115.98987
#&gt; Age             53.32250
#&gt; Education       13.90000</div><div class='input'>
<span class='co'># Using pipes &amp; dplyr -------------------------</span>
<span class='co'># outlier_ratio is more than 1%</span>
<span class='no'>carseats</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>()  <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>outliers_ratio</span> <span class='kw'>&gt;</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt;   variables outliers_cnt outliers_ratio outliers_mean with_mean without_mean
#&gt; 1     Price            5           1.25         100.4   115.795     115.9899</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Choonghyun Ryu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


