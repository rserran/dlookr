<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Diagnose outlier of numerical variables — diagnose_outlier • dlookr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Diagnose outlier of numerical variables — diagnose_outlier" />
<meta property="og:description" content="The diagnose_outlier() produces outlier information
for diagnosing the quality of the numerical data." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dlookr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.2.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/introduce.html">Introduce dlookr</a>
</li>
<li>
  <a href="../articles/diagonosis.html">Data Diagnosis</a>
</li>
<li>
  <a href="../articles/EDA.html">EDA</a>
</li>
<li>
  <a href="../articles/transformation.html">Data Transformation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Function reference</a>
</li>
<li>
  <a href="https://github.com/choonghyunryu/dlookr/">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Diagnose outlier of numerical variables</h1>
    <small class="dont-index">Source: <a href='https://github.com/choonghyunryu/dlookr/blob/master/R/diagnose.R'><code>R/diagnose.R</code></a></small>
    <div class="hidden name"><code>diagnose_outlier.data.frame.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The diagnose_outlier() produces outlier information
for diagnosing the quality of the numerical data.</p>
    </div>

    <pre class="usage"><span class='fu'>diagnose_outlier</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>.data</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>a data.frame or a <code>tbl_df</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>one or more unquoted expressions separated by commas.
You can treat variable names like they are positions.
Positive values select variables; negative values to drop variables.
If the first expression is negative, diagnose_outlier() will automatically
start with all variables.
These arguments are automatically quoted and evaluated in a context
where column names represent column positions.
They support unquoting and splicing.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of tbl_df.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The scope of the diagnosis is the provide a outlier information.
If the number of outliers is small and the difference between the averages
including outliers and the averages not including them is large,
it is necessary to eliminate or replace the outliers.</p>
    <h2 class="hasAnchor" id="outlier-diagnostic-information"><a class="anchor" href="#outlier-diagnostic-information"></a>Outlier Diagnostic information</h2>

    

<p>The information derived from the numerical data diagnosis is as follows.</p>
<ul>
<li><p>variables : variable names</p></li>
<li><p>outliers_cnt : number of outliers</p></li>
<li><p>outliers_ratio : percent of outliers</p></li>
<li><p>outliers_mean : arithmetic average of outliers</p></li>
<li><p>with_mean : arithmetic average of with outliers</p></li>
<li><p>without_mean : arithmetic average of without outliers</p></li>
</ul>

<p>See vignette("diagonosis") for an introduction to these concepts.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='diagnose_outlier.tbl_dbi.html'>diagnose_outlier.tbl_dbi</a></code>, <code><a href='diagnose.data.frame.html'>diagnose.data.frame</a></code>, <code><a href='diagnose_category.data.frame.html'>diagnose_category.data.frame</a></code>, <code><a href='diagnose_numeric.data.frame.html'>diagnose_numeric.data.frame</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Diagnosis of numerical variables</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>heartfailure</span>)</div><div class='output co'>#&gt;           variables outliers_cnt outliers_ratio outliers_mean    with_mean
#&gt; 1               age            0      0.0000000           NaN     60.82943
#&gt; 2        cpk_enzyme           29      9.6989967  2.905414e+03    581.83946
#&gt; 3 ejection_fraction            2      0.6688963  7.500000e+01     38.08361
#&gt; 4         platelets           21      7.0234114  3.783857e+05 263358.02926
#&gt; 5        creatinine           29      9.6989967  3.793103e+00      1.39388
#&gt; 6            sodium            4      1.3377926  1.185000e+02    136.62542
#&gt; 7              time            0      0.0000000           NaN    130.26087
#&gt;   without_mean
#&gt; 1 6.082943e+01
#&gt; 2 3.322704e+02
#&gt; 3 3.783502e+01
#&gt; 4 2.546689e+05
#&gt; 5 1.136185e+00
#&gt; 6 1.368712e+02
#&gt; 7 1.302609e+02</div><div class='input'>
<span class='co'># Select the variable to diagnose</span>
<span class='fu'>diagnose_outlier</span>(<span class='no'>heartfailure</span>, <span class='no'>cpk_enzyme</span>, <span class='no'>sodium</span>)</div><div class='output co'>#&gt;             variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; cpk_enzyme cpk_enzyme           29       9.698997      2905.414  581.8395
#&gt; sodium         sodium            4       1.337793       118.500  136.6254
#&gt;            without_mean
#&gt; cpk_enzyme     332.2704
#&gt; sodium         136.8712</div><div class='input'><span class='co'># diagnose_outlier(heartfailure, -cpk_enzyme, -sodium)</span>
<span class='co'># diagnose_outlier(heartfailure, "cpk_enzyme", "sodium")</span>
<span class='co'># diagnose_outlier(heartfailure, 5)</span>

<span class='co'># Using pipes ---------------------------------</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)

<span class='co'># Diagnosis of all numerical variables</span>
<span class='no'>heartfailure</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>()</div><div class='output co'>#&gt;           variables outliers_cnt outliers_ratio outliers_mean    with_mean
#&gt; 1               age            0      0.0000000           NaN     60.82943
#&gt; 2        cpk_enzyme           29      9.6989967  2.905414e+03    581.83946
#&gt; 3 ejection_fraction            2      0.6688963  7.500000e+01     38.08361
#&gt; 4         platelets           21      7.0234114  3.783857e+05 263358.02926
#&gt; 5        creatinine           29      9.6989967  3.793103e+00      1.39388
#&gt; 6            sodium            4      1.3377926  1.185000e+02    136.62542
#&gt; 7              time            0      0.0000000           NaN    130.26087
#&gt;   without_mean
#&gt; 1 6.082943e+01
#&gt; 2 3.322704e+02
#&gt; 3 3.783502e+01
#&gt; 4 2.546689e+05
#&gt; 5 1.136185e+00
#&gt; 6 1.368712e+02
#&gt; 7 1.302609e+02</div><div class='input'><span class='co'># Positive values select variables</span>
<span class='no'>heartfailure</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>(<span class='no'>cpk_enzyme</span>, <span class='no'>sodium</span>)</div><div class='output co'>#&gt;             variables outliers_cnt outliers_ratio outliers_mean with_mean
#&gt; cpk_enzyme cpk_enzyme           29       9.698997      2905.414  581.8395
#&gt; sodium         sodium            4       1.337793       118.500  136.6254
#&gt;            without_mean
#&gt; cpk_enzyme     332.2704
#&gt; sodium         136.8712</div><div class='input'><span class='co'># # Negative values to drop variables</span>
<span class='co'># heartfailure %&gt;%</span>
<span class='co'>#   diagnose_outlier(-cpk_enzyme, -sodium)</span>
<span class='co'># # Positions values select variables</span>
<span class='co'># heartfailure %&gt;%</span>
<span class='co'>#   diagnose_outlier(5)</span>
<span class='co'># Positions values select variables</span>
<span class='co'># # heartfailure %&gt;%</span>
<span class='co'>#   diagnose_outlier(-1, -5)</span>

<span class='co'># Using pipes &amp; dplyr -------------------------</span>
<span class='co'># outlier_ratio is more than 1%</span>
<span class='no'>heartfailure</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>diagnose_outlier</span>()  <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>outliers_ratio</span> <span class='kw'>&gt;</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt;    variables outliers_cnt outliers_ratio outliers_mean    with_mean
#&gt; 1 cpk_enzyme           29       9.698997  2.905414e+03    581.83946
#&gt; 2  platelets           21       7.023411  3.783857e+05 263358.02926
#&gt; 3 creatinine           29       9.698997  3.793103e+00      1.39388
#&gt; 4     sodium            4       1.337793  1.185000e+02    136.62542
#&gt;   without_mean
#&gt; 1 3.322704e+02
#&gt; 2 2.546689e+05
#&gt; 3 1.136185e+00
#&gt; 4 1.368712e+02</div><div class='input'>  
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Choonghyun Ryu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


